# The Codebase Distillation Prompts

**Version:** 0.2.03

**Focus:** Top-Down Intent & Fractal Extraction.

These prompts are designed to be inputs for the specific agents defined in `distillation_workflow.md`.

## Prompt 1: The Director (Phase 1) - _NEW_

**Context:** Root of the repository + User-provided goals/theory files.

**Output Target:** `_distillation/learning_objectives.md`

> **Prompt:**
> 
> "Act as the Lead Researcher. Before we scan the code, we need to know what we are hunting for.
> 
> **Task:** > 1. Read the `README.md`, any user-facing documentation available, and any explicit theoretical goals I have provided in the chat.
> 
> 2. Analyze the core value proposition of this repository. What does this repo do exceptionally well?
> 
> 3. Formulate a set of explicit 'Learning Targets'.
> 
> **Output:** Generate `_distillation/learning_objectives.md`. List 3 to 7 highly specific architectural or algorithmic questions that we want the next agent to answer by reading the code. (e.g., 'How exactly is the Context Engine managing token limits during graph traversal?')"

## Prompt 2: The Surveyor (Phase 2)

**Context:** Root of the repository + `learning_objectives.md`.

**Output Target:** `_distillation/extraction_plan.json`

> **Prompt:**
> 
> "Act as a Senior Software Architect. We have established our learning goals in `learning_objectives.md`.
> 
> **Objective:** Identify the specific files and directories that hold the answers to our learning targets.
> 
> **Analysis Strategy:**
> 
> 1. Cross-reference our Learning Targets with the file tree.
>     
> 2. Look at file sizes and names. (High complexity often hides in `utils`, `core`, `lib`, or `engine` folders).
>     
> 
> **Output Requirement:**
> 
> DO NOT output a report. Output ONLY a valid JSON object strictly following this structure: `[ { "target_id": "...", "path": "...", "focus": "...", "abstraction_level": "..." } ]`. Ensure the `focus` field explicitly references one of our Learning Targets."

## Prompt 3: The Atomizer (Phase 3)

**Context:** The specific `path` defined in the target JSON.

**Input:** `focus` and `abstraction_level` from the target JSON.

> **Prompt:**
> 
> "You are an Extraction Agent. Your target is `{path}`.
> 
> Your mission: Extract **Atomic Patterns** and **Tricks** that directly address the `{focus}` at the `{abstraction_level}` level.
> 
> **Output Requirement:**
> 
> For EACH finding, generate a separate Markdown file named `_distillation/findings/finding_{id}_{short_name}.md`.
> 
> **Critical:** If you find a 'Line-Level' trick, you MUST explain exactly _how_ it works and _why_ it is faster/safer than the standard approach."

## Prompt 4: The Librarian (Phase 4)

**Context:** The folder of raw findings.

> **Prompt:**
> 
> "You are the Keeper of the Global Library.
> 
> 1. Read all `finding_*.md` files provided.
>     
> 2. Merge any duplicates.
>     
> 3. **Quality Check:** Discard any findings that are 'Common Knowledge'. Keep only the 'Cunning', 'Novel', or 'Masterful'.
>     
> 4. **Final Polish:** Format the remaining findings into the final pattern format with YAML frontmatter.
>     
> 5. **Tagging:** Assign semantic tags for future retrieval."
>